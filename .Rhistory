if(alg==4){
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",temperatures),"Balancing functions: ",bal_f,
"Total iterations: ",total_iter,
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures)),"Balancing functions: ",bal_f,
"Total iterations: ",total_iter,
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
paste(temperatures,sep=',')
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,sep=',')),"Balancing functions: ",bal_f,
"Total iterations: ",total_iter,
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),"Balancing functions: ",bal_f,
"Total iterations: ",total_iter,
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
"Total iterations: ",total_iter,
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
temperatures
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
"Try swaps:",iterswap,
"Samples in-between swaps: ",sample_inter_swap,
"Total swaps:",total_swap))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap)))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap)),,,"ok?")
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap)),,,"ok?")
print(cat("Parameters\n asd"))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap)))
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap)),"","","ok?")
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap),"","","ok?"))
alg <- as.numeric(readline('Select algortihm'))
alg
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap),"","",""))
check <- as.numeric(readline('ok?'))
paste0("Temperatures: ",paste(temperatures,collapse=',')),
writeLines(c("Parameters:",paste0("Total simulations: ",total_simulations),
paste0("Temperatures: ",paste(temperatures,collapse=',')),
paste0("Balancing functions: ",paste(bal_f,collapse = ',')),
paste0("Total iterations: ",total_iter),
paste0("Try swaps:",iterswap),
paste0("Samples in-between swaps: ",sample_inter_swap),
paste0("Total swaps:",total_swap),"","","Confirm below"))
check <- as.numeric(readline('ok?'))
check
check <- as.numeric(readline('ok? 1 Yes/ 0 No))
alg <- alg*check
if(alg==4){
# Only IIT
output_name <- paste0("IIT_","sim_",total_simulations,"_iter_",total_iter);
output <- PT_IIT_sim(p,startsim=1, endsim=total_simulations,numiter=total_iter,iterswap=total_iter+1,temp=temperatures[1],bal_function=bal_f[1], bias_fix = TRUE)
}else{
if(alg==1){
output_name <- paste0("PT_IIT_Z_","sim_",total_simulations,"_iter_",total_iter,"_iterswap_",iterswap);
# Using Z factor bias correction
output <- PT_IIT_sim(p,startsim=1, endsim=total_simulations,numiter=total_iter,iterswap,temperatures,bal_f, bias_fix = TRUE)
}
if(alg==2){
output_name <- paste0("PT_IIT_no_Z_","sim_",total_simulations,"_iter_",total_iter,"_iterswap_",iterswap);
# Without Z factor bias correction
output <- PT_IIT_sim(p,startsim=1, endsim=total_simulations,numiter=total_iter,iterswap,temperatures,bal_f, bias_fix = FALSE)
}
if(alg==3){
# Using A-IIT in each replica
output_name <- paste0("PT_A_IIT_","sim_",total_simulations,"_interswap_",sample_inter_swap,"_totalswap_",total_swap);
output <- PT_a_IIT_sim(p,startsim=1, endsim=total_simulations,total_swap,sample_inter_swap,temperatures,bal_f)
#Number of iterations needed between swaps for each replica
export[["total_iter"]] <- output[["total_iter"]]
}
# Replica swap acceptance rate (NA for IIT)
export[["swap_rate"]] <- output[["swap_rate"]]
#round trip rate (NA for IIT)
export[["round_trips"]] <- PT_RT(output[["ip"]], total_iter,iterswap,total_simulations)
}
#Compute estimated density
output[["est_pi"]] <- t(t(output[["est_pi"]])/colSums(output[["est_pi"]]))
# Total Variation Distance
export[["tvd"]] <- apply(output[["est_pi"]], 2,TVD,pi.est=pi.true)
# Time of first visit
export[["mode_visit"]] <- t(output[["visits"]][modes+1,])
save(export,file=file.path("results",output_name))
}else{ print("Choose a valid option / modify parameters")}
1111'''''''
check <- as.numeric(readline('ok? 1 Yes/ 0 No'))
check <- as.numeric(readline('ok? 1 Yes/ 0 No\n'))
check
total_iter/iterswap
getwd()
ls()
dir()
results <- dir("results")
results
paste(results, collapse=",")
### Process simulation results
library(stringr)
str_extract(results, ".*(?=_sim)")
data_sum <- data.frame()
data_sum <- data.frame()
data_sum$file <- dir("results")
dir("results")
data_sum$file
?data.frame
data_sum <- data.frame(dir("results"))
data_sum
data_sum <- data.frame(file=dir("results"))
data_sum
data_sum$alg <- str_extract(results, ".*(?=_sim)")
data_sum
data_sum<- dir("results") %>%
tibble(full_text = .) %>%
mutate(before_sim = str_extract(full_text, ".*(?=_sim)"),
after_sim = str_remove(full_text, ".*_sim_")) %>%
separate(after_sim, into = paste0("Col", 1:10), sep = "_", fill = "right") %>%
select(before_sim, starts_with("Col"))
library(dplyr)
data_sum<- dir("results") %>%
tibble(full_text = .) %>%
mutate(before_sim = str_extract(full_text, ".*(?=_sim)"),
after_sim = str_remove(full_text, ".*_sim_")) %>%
separate(after_sim, into = paste0("Col", 1:10), sep = "_", fill = "right") %>%
select(before_sim, starts_with("Col"))
library(tidyverse)
data_sum<- dir("results") %>%
tibble(full_text = .) %>%
mutate(before_sim = str_extract(full_text, ".*(?=_sim)"),
after_sim = str_remove(full_text, ".*_sim_")) %>%
separate(after_sim, into = paste0("Col", 1:10), sep = "_", fill = "right") %>%
select(before_sim, starts_with("Col"))
data_sum
unique(data_sum$Col2)
dir("results")
str_extract(dir("results"),".*(?=_sim)")
str_extract(dir("results"),"(?=_sim_).*")
str_extract(dir("results"),"(?=_iter_).*")
str_extract(dir("results"),"(?_iter_).*")
str_extract(dir("results"),"(?=_iter_).*")
?str_extract
str_extract(dir("results"),"_iter_.*")
str_extract(dir("results"),"_iter(?=_).*")
str_extract(dir("results"),"_iter(?=_.*)")
str_extract(dir("results"),"_iter_.\d(?=.*)")
str_extract(dir("results"),"_iter_.\\d(?=.*)")
str_extract(dir("results"),"_iter_.\\d(?=.*)")
str_extract(dir("results"),"(?<=interswap_)[^_]+")
str_extract(dir("results"),"(?<=iter_)[^_]+")
dir("results")
str_extract(dir("results"),"(?<=sim_)[^_]+")
str_extract(dir("results"),"(?<=total_swap_)[^_]+")
str_extract(dir("results"),"(?<=totalswap_)[^_]+")
str_extract(dir("results"),"(?<=sim_)[^_]+")
str_extract(dir("results"), ".*(?=_sim)")
|>
data_sum<- dir("results") |>
tibble(full_text = .) |>
mutate(alg = str_extract(full_text, ".*(?=_sim)"),
sim = str_extract(dir("results"),"(?<=sim_)[^_]+"),
iter=str_extract(dir("results"),"(?<=iter_)[^_]+"),
interswap=str_extract(dir("results"),"(?<=interswap_)[^_]+"),
tot_swap=str_extract(dir("results"),"(?<=totalswap_)[^_]+"))
data_sum<- dir("results") |>
tibble(full_text = .) |>
mutate(alg = str_extract(full_text, ".*(?=_sim)"),
sim = str_extract(dir("results"),"(?<=sim_)[^_]+"),
iter=str_extract(dir("results"),"(?<=iter_)[^_]+"),
interswap=str_extract(dir("results"),"(?<=interswap_)[^_]+"),
tot_swap=str_extract(dir("results"),"(?<=totalswap_)[^_]+"))
data_sum<- dir("results")
data_sum<- dir("results") |>
tibble(full_text = .)
data_sum<-tibble(full_text = dir("results")) |>
mutate(alg = str_extract(full_text, ".*(?=_sim)"),
sim = str_extract(dir("results"),"(?<=sim_)[^_]+"),
iter=str_extract(dir("results"),"(?<=iter_)[^_]+"),
interswap=str_extract(dir("results"),"(?<=interswap_)[^_]+"),
tot_swap=str_extract(dir("results"),"(?<=totalswap_)[^_]+"))
data_sum
str(data_sum)
as.numeric("5e+05")
as.numeric("5e+05")-1
as.numeric("5e+05")+1
as.numeric("5e+05")+0
colnames(data_sum)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(full_text, ".*(?=_sim)"),
sim = str_extract(dir("results"),"(?<=sim_)[^_]+"),
iter=str_extract(dir("results"),"(?<=iter_)[^_]+"),
interswap=str_extract(dir("results"),"(?<=interswap_)[^_]+"),
tot_swap=str_extract(dir("results"),"(?<=totalswap_)[^_]+")) |>
select(everything(),file)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
select(everything(),file)
data_sum
str(data_sum)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
select(everything(),file) |>
mutate_at(2:ncol(data_sum),as.numeric())
mutate_at(2:ncol(data_sum),as.numeric
)
2:ncol(data_sum)
str(data_sun)
str(data_sum)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate_at(2:ncol(data_sum),as.numeric)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate_at(across(-1, as.numeric))
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-1, as.numeric))
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+"))
data_sum
data_sum |>   mutate(across(-1, as.numeric))
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-1:2, as.numeric))
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
str(data_sum)
i <- 1
data <- readRDS(file.path("results",data_sum[i,1]))
file.path("results",data_sum[i,1])
dir("results")
data <- readRDS(file.path("results",paste0(data_sum[i,1],".Rdata")))
data_sum
saveRDS(data_sum,"results/file.Rdata")
saveRDS(data_sum,"results/file.Rds")
ex <- readRDS("results/file.Rds")
ex
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
### Process simulation results
library(stringr)
library(tidyverse)
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
data_sum$file
i <- 2
data <- readRDS(file.path("results",data_sum[i,1]))
data
data_sum<-tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
dplyr::last_dplyr_warnings()
tibble(file = dir("results"))
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+"))
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
dir("results")
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+"))
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
dir("results")
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
dir("results")
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
dir("results")
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^_]+")) |>
mutate(across(-(1:2), as.numeric))
dir("results")
data_sum
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
dir("results")
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+")) |>
mutate(across(-(1:2), as.numeric))
dir("results")
data_sum
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^_]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+"))
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^.]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+")) |>
mutate(across(-(1:2), as.numeric))
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^.]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+"))
dir("results")
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^(_\\.)]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^.]+"))
tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^(_\\.)]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^\\.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^\\.]+"))
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^(_\\.)]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^\\.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^\\.]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
dir("results")
data_sum$iter/2
data_sum <- tibble(file = dir("results")) |>
mutate(alg = str_extract(file, ".*(?=_sim)"),
sim = str_extract(file,"(?<=sim_)[^_]+"),
iter=str_extract(file,"(?<=iter_)[^(_\\.)]+"),
interswap=str_extract(file,"(?<=interswap_)[^_]+"),
tot_swap=str_extract(file,"(?<=totalswap_)[^\\.]+"),
iterswap=str_extract(file,"(?<=iterswap_)[^\\.]+")) |>
mutate(across(-(1:2), as.numeric))
data_sum
for(i in 1:nrow(data_sum)){
data <- readRDS(file.path("results",data_sum[i,1]))
print(names(data))
}
for(i in 1:nrow(data_sum)){
data <- readRDS(file.path("results",data_sum[i,1]))
print(data_sum[i,"alg"])
print(names(data))
}
data_sum
i <- 4
data <- readRDS(file.path("results",data_sum[i,1]))
head(data$tvd)
rm(list=ls())
